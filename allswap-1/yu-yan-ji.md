---
icon: merge
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# 预言机

## 简介&#x20;

预言机是 Allswap 高级功能（如限价单和自动定投功能）的核心，确保无缝交易执行的准确和可靠价格数据。除了传统的预言机（如 Chainlink 和 Pyth），THORChain 的原生价格数据增强了平台在深度流动性原生资产交换方面的能力。

***

### 限价单&#x20;

价格馈送预言机 为了确保价格数据的准确性和可靠性，我们的平台利用多个预言机解决方案，以实现冗余和最佳性能：&#x20;

### 主要预言机&#x20;

• Chainlink 和 Pyth 提供高精度限价单执行的实时价格馈送。&#x20;

• THORChain 的原生定价机制用于反映原生资产交换中实际流动性池价格。&#x20;

### 备用预言机

• **时间加权平均价格 (TWAP)：**&#x6765;自 Uniswap、Curve、Raydium 和 Orca 等 DEX 的机制，作为次级数据来源。&#x20;

• **原生交换的备用定价：**&#x53EF;从兼容 THORChain 的其他价格数据源获取备用价格。

### 预言机的弹性&#x20;

包括 THORChain 原生定价在内的冗余系统确保在主要预言机失效时，操作持续且价格准确。

执行机制 预言机通过安全的智能合约持续监控价格，以触发限价单的完成。

### 关键步骤

1\. **价格监控：**&#x9884;言机（如 Chainlink、Pyth、THORChain）跟踪目标资产的市场价格。&#x20;

2\. **条件验证：**&#x9650;价单条件与监控价格进行校验。&#x20;

3\. **订单执行：**&#x4E00;旦价格条件满足，智能合约安全地执行交易。&#x20;

4\. **备用机制：**&#x5728;预言机中断的情况下，TWAP 定价或其他备用预言机确保订单执行不中断。

## 自动定投功能 (Auto-DCA)

### 订单调度&#x20;

Auto-DCA 功能允许用户在多个链和资产之间自动定期累积资产，包括 THORChain 上的资产。

### 功能特点

• **灵活的购买间隔：**&#x7528;户可以定义购买的频率（例如，每日、每周）。&#x20;

• **原生资产支持：**&#x54;HORChain 的价格数据允许直接使用原生资产（如 BTC、ETH 或 RUNE）进行定投。&#x20;

### 部分填单

当价格条件符合时支持部分订单执行，实现低成本的长期累积。

### 预言机依赖性&#x20;

Auto-DCA 功能扩展了对跨链定期订单的预言机集成：&#x20;

• **价格监控：**&#x5305;括 THORChain 在内的预言机跟踪实时价格，以确定最佳执行时间。&#x20;

• **原生和桥接资产：**&#x786E;保对原生资产（通过 THORChain）和桥接资产（通过 Chainlink 和 Pyth）的准确定价。&#x20;

• **无缝集成：**&#x5B9A;期订单使用与限价单相同的可靠预言机逻辑，并增加了对原生交换的支持。

***

## 为何预言机集成至关重要

平台强大的预言机集成确保：&#x20;

• **精准度：**&#x7ED3;合 Chainlink、Pyth 和 THORChain 的数据馈送，实现精准交易。&#x20;

• **弹性：**&#x5197;余系统防止数据中断对交易的影响。&#x20;

• **原生资产支持：**&#x5229;用 THORChain 的价格数据提供深度流动性和准确的原生资产估值。&#x20;

• **自动化：**&#x4EE5;最小的用户干预实现高级功能，如限价单和 Auto-DCA。
